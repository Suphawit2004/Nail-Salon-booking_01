"use client";import {useEffect,useState} from "react";import {useParams,useRouter} from "next/navigation";import LayoutWrapper from "../../components/LayoutWrapper";type B={id:string;serviceId:string;serviceTitle:string;date:string;time:string;createdAt:string;status:"PENDING"|"CONFIRMED"|"CANCELLED"};const price=(sid:string)=>sid==="svc-01"?890:sid==="svc-02"?690:490;export default function Pay(){const {id}=useParams<{id:string}>();const router=useRouter();const [bk,setBk]=useState<B|null>(null);useEffect(()=>{(async()=>{const r=await fetch(`/api/bookings/${id}`,{cache:"no-store"});if(r.ok){setBk(await r.json());}})();},[id]);if(!bk)return <LayoutWrapper>กำลังโหลด…</LayoutWrapper>;return(<LayoutWrapper><h2 className="text-sm font-semibold text-pink-600 mb-3 mt-4">การจ่ายเงิน</h2><div className="rounded-3xl border border-pink-100 bg-pink-50/60 p-4 shadow-sm"><div className="font-semibold text-gray-800 text-lg">{bk.serviceTitle}</div><div className="mt-2 text-sm text-gray-700">วันที่: {bk.date} เวลา: {bk.time}</div><div className="mt-2 text-right font-semibold text-pink-700">{price(bk.serviceId)}฿</div></div><div className="mt-4 flex justify-center"><button onClick={()=>router.push("/all-bookings")} className="px-6 py-2 rounded-xl bg-pink-400 text-white text-sm font-semibold hover:bg-pink-500">ไปหน้าประวัติการจอง</button></div></LayoutWrapper>);}